(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{236:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));a(233),a(11),a(153),a(154),a(151),a(13);var i=a(0),n=a.n(i),r=a(5),o=a(60),l=a(12),s=(a(35),a(1)),d=a.n(s),c=a(2),m=a(51),p=a(32),u=a(62),g=a(26),b=a(10);const h=c.d.ul.withConfig({displayName:"SongMore__StyledMoreIcon",componentId:"sc-1kbpn7f-0"})(["display:flex;margin-left:auto;position:relative;li{width:4px;height:4px;border-radius:50%;background-color:",';}li:nth-of-type(2){margin:0 4px;}&::after{content:"";position:absolute;width:60px;height:30px;top:50%;left:50%;transform:translate(-50%,-50%);}'],e=>e.theme.dg),f=c.d.div.withConfig({displayName:"SongMore__StyledModalContainer",componentId:"sc-1kbpn7f-1"})(["border-radius:12px 12px 0 0;background-color:",";position:absolute;bottom:0;padding:25px 14px 80px 14px;width:100%;transition:transform 0.2s;transform:",";.contents{min-height:200px;max-height:55vh;overflow-y:scroll;li{color:",";padding-left:45px;margin:29px 0 0 2px;font-size:14px;background-position:10px center;background-repeat:no-repeat;background-size:23px 23px;height:30px;line-height:30px;&:first-of-type{margin-top:40px;}}}.next_song{background-image:",";}.artist{"," a{color:",";}background-image:url(",");}.album{background-image:url(",");"," a{color:",";}}.song_name{color:",";font-size:16px;","}.close{position:absolute;bottom:40px;color:",";text-align:center;font-size:30px;width:100%;left:0;}"],e=>e.theme.mg,e=>e.isShow?"translate3d(0, 0,0)":"translate3d(0, 100%,0)",e=>e.theme.fg,({isValid:e})=>e?"url(/images/nextSong-f0d94f.png)":"url(/images/attention-641435.png)",u.b,e=>e.theme.fg,"/images/artist-0f7739.png","/images/album-88ccb0.png",u.b,e=>e.theme.fg,e=>e.theme.fg,u.b,e=>e.theme.fg),y=Object(i.memo)((function({songName:e,artistName:t,albumName:a,albumId:r,artistId:s,isValid:d,id:c}){var m;const{isShowModal:u,isShowContent:y,onModalOpen:x,onModalClose:v}=Object(g.a)(),w=Object(l.b)(),I=Object(i.useCallback)(e=>{e.target.getAttribute("data-close")||e.stopPropagation()},[]),O=Object(i.useCallback)(e=>{e.stopPropagation(),x()},[x]),_=Object(i.useCallback)(e=>{e.stopPropagation(),v()},[v]),S=Object(i.useCallback)(e=>{d&&(w(b.a.setNextPlay(c)),_(e))},[_,c,d,w]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(h,{onClick:O},n.a.createElement("li",null),n.a.createElement("li",null),n.a.createElement("li",null)),u&&n.a.createElement(p.b,null,n.a.createElement(p.a,{onClick:_},n.a.createElement(f,{isShow:y,onClick:I,isValid:d},n.a.createElement("div",{className:"song_name"},e),n.a.createElement("ul",{className:"contents"},n.a.createElement("li",{className:"next_song",onClick:S},d?"Next Play":"No Copyright"),t&&n.a.createElement("li",{className:"artist"},n.a.createElement(o.b,{to:`/artist?id=${s}&name=${null==t||null===(m=t.split(" "))||void 0===m?void 0:m[0]}`,onClick:_},"Singer: "+t)),a&&n.a.createElement("li",{className:"album"},n.a.createElement(o.b,{to:"/album?id="+r},"Album: "+a))),n.a.createElement("div",{className:"close","data-close":"true"},"×")))))}));y.propTypes={songName:d.a.string,artistName:d.a.string,albumName:d.a.string,albumId:d.a.number,artistId:d.a.number,isValid:d.a.bool};var x=y,v=a(90),w=a(238),I=a(50),O=a(25),_=a(61);let S,j,N,P=e=>e;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){E(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}new I.a;const z={ALBUM:"album",PLAY_LIST:"playlist",SONG:"song",MV:"mv",ARTIST:"artist",BIG_ALBUM:"bigAlbum",BIG_MV:"bigMV",BIGGER_MV:"biggerMV",BIG_PLAY_LIST:"big_playlist",PRIVATE_MV:"privateMV"},A=c.d.p.withConfig({displayName:"MediaItemList__MediaItemTitle",componentId:"b9xgto-0"})(["height:16px;line-height:16px;padding-left:4px;font-weight:bold;margin-top:40px;margin-bottom:20px;font-size:14px;"," color:",";"],e=>e.withoutMore?"":"background-image: url(/images/more-cfb66d.png);\n  background-size: 16px 16px;\n  background-repeat: no-repeat;\n  background-position: 100% center;\n  ",e=>e.theme.dg),L=c.d.span.withConfig({displayName:"MediaItemList__DurationTag",componentId:"b9xgto-1"})(["font-size:14px;font-weight:bold;position:absolute;bottom:0;right:0;padding:5px 12px;border-radius:200px;color:",";background-color:black;z-index:4;"],e=>e.theme.fg),T=c.d.div.withConfig({displayName:"MediaItemList__StyledResultItem",componentId:"b9xgto-2"})(["vertical-align:top;position:relative;width:100%;margin-bottom:20px;display:flex;flex-direction:row;align-items:center;dl{font-size:16px;width:70%;> ","{height:10px;background-color:grey;}> ",":first-of-type{margin-top:0 !important;}dt{margin-bottom:4px;padding-right:15px;",";line-height:1.3;min-height:1em;color:",";}dd{padding-right:15px;"," font-size:14px;min-height:1em;margin-bottom:2px;color:",";line-height:1.3em;}}"],_.a,_.a,u.b,({isActivePlay:e,theme:t})=>e?t.secondary:t.fg,u.b,e=>e.theme.dg),U=Object(c.d)(T).withConfig({displayName:"MediaItemList__Styled48ResultItem",componentId:"b9xgto-3"})(["width:48%;margin-bottom:10px;display:inline-flex;flex-direction:column;align-items:flex-start;"," dl{width:100%;dt{",";white-space:initial;}}"],O.a.aboveTablet(S||(S=P`
      max-width: 240px;
  `)),Object(u.a)(2)),V=Object(c.d)(U).withConfig({displayName:"MediaItemList__Styled100ResultItem",componentId:"b9xgto-4"})(["width:100%;",""],O.a.aboveTablet(j||(j=P`
      max-width: 400px;
      margin-right: 20px
  `))),R=Object(i.memo)(e=>{let{type:t}=e,a=B(e,["type"]);return t===z.BIG_ALBUM||t===z.BIG_MV||t===z.BIG_PLAY_LIST?n.a.createElement(U,a):t===z.BIGGER_MV||t===z.PRIVATE_MV?n.a.createElement(V,a):n.a.createElement(T,a)}),D=Object(c.d)(m.a).withConfig({displayName:"MediaItemList__StyledMyImage",componentId:"b9xgto-5"})(["&{width:100%;height:100%;}"]);var G=Object(c.d)(D).withConfig({displayName:"MediaItemList___StyledStyledMyImage",componentId:"b9xgto-6"})(["border-radius:",";position:absolute;"],e=>e._css2);const q=Object(c.d)(w.a).withConfig({displayName:"MediaItemList__StyledLabel",componentId:"b9xgto-7"})(["&{bottom:0;right:inherit;left:-5px;z-index:4;}"]),Y=c.d.div.withConfig({displayName:"MediaItemList__ItemImgWrapper",componentId:"b9xgto-8"})(["position:relative;font-size:0;",""],O.a.aboveTablet(N||(N=P`
      min-width: 80px;
      min-height: 80px
  `)));var $=Object(c.d)(Y).withConfig({displayName:"MediaItemList___StyledItemImgWrapper",componentId:"b9xgto-9"})(["",""],e=>e._css);const F=c.d.span.withConfig({displayName:"MediaItemList__ItemIndex",componentId:"b9xgto-10"})(["font-weight:bold;color:",";display:block;margin-right:26px;"],e=>e.theme.fg),W=Object(i.memo)(({type:e,imgUrl:t,renderTag:a})=>{let i={paddingBottom:"44px",width:"44px",borderRadius:"50%"};e!==z.ALBUM&&e!==z.PLAY_LIST||(i={paddingBottom:"48px",width:"48px",borderRadius:"4px"}),e===z.SONG&&(i=C(C({},i),{},{borderRadius:"4px"})),e===z.VIDEO&&(i={paddingBottom:25/1.8+"%",width:"25%",borderRadius:"4px"}),e!==z.BIG_ALBUM&&e!==z.BIG_PLAY_LIST||(i={paddingBottom:"85%",width:"85%",borderRadius:"4px",marginBottom:"10px"}),e===z.BIG_MV&&(i={paddingBottom:85/1.33+"%",width:"85%",borderRadius:"4px",marginBottom:"10px"}),e===z.BIGGER_MV&&(i={paddingBottom:100/1.3+"%",width:"100%",borderRadius:"4px",marginBottom:"10px"}),e===z.PRIVATE_MV&&(i={paddingBottom:100/2.7+"%",width:"100%",borderRadius:"4px",marginBottom:"10px"});const r=Object(c.c)(["width:",";padding-bottom:",";border-radius:",";margin-bottom:",";margin-right:16px;position:relative;"],i.width,i.paddingBottom,i.borderRadius,i.marginBottom||0);return n.a.createElement($,{_css:r},a&&a(),n.a.createElement(G,{url:t,_css2:i.borderRadius}))});W.propTypes={type:d.a.string,imgUrl:d.a.string,renderTag:d.a.func};const H=Object(i.memo)(e=>{var t;const{imgUrl:a,title:o,desc:s,type:d,artistId:c,albumId:m,artistName:p,albumName:u,publishTime:g,duration:h,tag:f,index:y,noImg:v,noIndex:w,onItemClick:I,id:O,renderRightPart:S}=e,[j,N]=null!==(t=null==s?void 0:s.split(" · "))&&void 0!==t?t:["",""],P=s||g,k=Object(l.b)(),M=Object(r.g)(),C=Object(i.useCallback)(e=>{if(e.stopPropagation(),d===z.BIG_ALBUM||d===z.ALBUM)M.push("/album?id="+O);else if(d===z.PLAY_LIST||d===z.BIG_PLAY_LIST)M.push("/playlist/"+O);else if(d===z.SONG)k(b.a.setImmediatelyPlay(O));else if(d===z.BIG_MV||d===z.BIGGER_MV||d===z.MV||d===z.PRIVATE_MV)M.push("/mv/"+O);else if(d===z.ARTIST){var t;M.push(`/artist?id=${O}&name=${null==p||null===(t=p.split(" "))||void 0===t?void 0:t[0]}`)}"function"==typeof I&&O&&I({id:O})},[d,I,O,M,k,p]),E=Object(l.c)(e=>e.root.currentPlayId),B=Object(i.useCallback)(()=>n.a.createElement(n.a.Fragment,null,h&&n.a.createElement(L,null,h),f&&n.a.createElement(q,{text:f})),[h,f]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(R,{type:d,onClick:C,isSingleColumItem:d===z.BIGGER_MV||d===z.PRIVATE_MV,isActivePlay:E===O&&d===z.SONG},v?w?"":n.a.createElement(F,null,(""+(y+1)).padStart(2,0)):n.a.createElement(W,{type:d,imgUrl:a,renderTag:B}),n.a.createElement("dl",null,n.a.createElement(_.b,{ready:!!o,rows:2,type:"textBlock"},n.a.createElement("dt",null,o),n.a.createElement("dd",null,P))),"function"==typeof S?S():d===z.SONG&&n.a.createElement(x,{songName:o,artistName:p||j,albumName:u||N,artistId:c,albumId:m,id:O,isValid:!0})))});H.displayName="MediaItem",H.propTypes={renderRightPart:d.a.func,noIndex:d.a.bool,noImg:d.a.bool,index:d.a.number,duration:d.a.string,imgUrl:d.a.string,title:d.a.string,artistName:d.a.string,albumName:d.a.string,desc:d.a.string,type:d.a.string,albumId:d.a.number,artistId:d.a.number,publishTime:d.a.string,tag:d.a.string,onItemClick:d.a.func,id:d.a.oneOfType([d.a.number,d.a.string])};const J=Object(i.memo)(({list:e,title:t,placeHolderCount:a,moreUrl:i,onItemClick:r,rendItemRight:l})=>(null==e?void 0:e.length)?n.a.createElement(n.a.Fragment,null,i&&t?n.a.createElement(o.b,{to:i},n.a.createElement(A,{withoutMore:!i},t)):t&&n.a.createElement(A,{withoutMore:!i},t),n.a.createElement(v.a,{list:e||new Array(a||1).fill({}),listItem:({item:e,index:t})=>n.a.createElement(H,k({index:t},e,{key:t,onItemClick:r,renderRightPart:l}))})):null);J.propTypes={rendItemRight:d.a.func,onItemClick:d.a.func,moreUrl:d.a.string,placeHolderCount:d.a.number,list:d.a.array,title:d.a.string};t.b=J},237:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(1),o=a.n(r),l=a(2),s=a(62);const d=l.d.div.withConfig({displayName:"PageBack__StyledPageBack",componentId:"sc-1ve67y3-0"})(["display:flex;background-color:",";img{width:18px;height:18px;margin-right:20px;}p{font-weight:bold;font-size:16px;flex:1;color:",";text-align:center;text-indent:-20px;","}"],e=>e.theme.mg,e=>e.theme.fg,s.b),c=Object(i.memo)(({title:e,style:t,className:a,isBlack:r})=>{const o=Object(i.useCallback)(()=>{window.history.back()},[]);return n.a.createElement(d,{style:t,className:a},r?n.a.createElement("img",{src:"/images/blackBack-3e397e.png",alt:"",onClick:o}):n.a.createElement("img",{src:"/images/pageBack-26bdff.png",alt:"",onClick:o}),e&&n.a.createElement("p",null,e))});c.propTypes={isBlack:o.a.bool,className:o.a.string,style:o.a.object,title:o.a.string};t.a=c},238:function(e,t,a){"use strict";a(233),a(153);var i=a(0),n=a.n(i),r=a(1),o=a.n(r);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const d=a(2).d.span.withConfig({displayName:"Label__BannerLabel",componentId:"sc-1anbujr-0"})(["position:absolute;padding:6px 12px;border-radius:200px;background:",";font-size:12px;color:black;bottom:14px;right:10px;font-weight:bold;"],e=>e.theme.secondary),c=e=>{let{text:t,className:a}=e,i=s(e,["text","className"]);return n.a.createElement(d,l({className:a},i),"#"+t)};c.propTypes={text:o.a.string.isRequired,className:o.a.string},t.a=c},239:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(1),o=a.n(r),l=a(2);const s=l.d.div.withConfig({displayName:"PlaySongsBar__PlayIcon",componentId:"sc-1vagddm-0"})(["background:",';width:70px;height:32px;border-radius:200px;&::after{content:"";width:0;height:0;border-top:0px solid transparent;border-bottom:12px solid black;border-left:9px solid transparent;border-right:9px solid transparent;transform:rotate(90deg) translate(-6px,7px);display:block;position:relative;top:50%;left:50%;border-radius:3px;}'],e=>e.theme.secondary),d=l.d.div.withConfig({displayName:"PlaySongsBar__PlayBar",componentId:"sc-1vagddm-1"})(["display:flex;align-items:center;"]),c=l.d.span.withConfig({displayName:"PlaySongsBar__SongsCount",componentId:"sc-1vagddm-2"})(["color:",";font-size:16px;font-weight:bold;margin-left:18px;"],e=>e.theme.dg),m=Object(i.memo)(({songsCount:e,withoutBar:t,onPlayIconClick:a})=>{const r=Object(i.useCallback)(()=>{a&&a()},[a]);return n.a.createElement(d,null,!t&&n.a.createElement(s,{onClick:r}),n.a.createElement(c,null,e))});m.propTypes={withoutBar:o.a.bool,songsCount:o.a.number,onPlayIconClick:o.a.func},m.defaultProps={withoutBar:!1},t.a=m},240:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(152),a(11),a(149),a(88),a(34),a(155),a(13);var i=a(50),n=a(14),r=a(33);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const l={artist:{selector:e=>({type:"artist",id:e.id,artistName:e.name,imgUrl:e.img1v1Url||e.picUrl,title:"Singer："+e.name,desc:`Song：${e.musicSize} Album：${e.albumSize}`})},mv:{selector:e=>({type:"video",id:e.vid,vtype:e.type,imgUrl:e.cover,title:"MV："+e.name,desc:`Singer：${e.artistName} Play Times：${e.playCount}`})},album:{selector:e=>({type:"album",id:e.id,imgUrl:e.picUrl,title:"Album："+e.name,desc:"Singer："+e.artist.name})}},s={playlist:{desc:"Playlist",selector:e=>({id:e.id,imgUrl:e.coverImgUrl,title:""+e.name,desc:e.trackCount+"No."})},song:{desc:"Song",selector:e=>{const t=e.ar.length?[...e.ar].reverse().reduce((e,t)=>`${t.name} ${e}`,""):"";return{imgUrl:e.al.picUrl,title:""+e.name,desc:`${t} · ${e.al.name}`,artistId:e.ar[0].id,albumId:e.al.id,artistName:t,albumName:e.al.name,id:e.id}}},artist:{desc:"Singer",selector:e=>({id:e.id,artistName:e.name,imgUrl:e.img1v1Url||e.picUrl,title:"Singer："+e.name,desc:`mv:${e.mvSize}  Album:${e.albumSize}`})},mv:{desc:"MV",selector:e=>({id:e.id,imgUrl:e.cover,title:""+e.name,desc:""+e.artistName})},album:{desc:"Album",selector:e=>({id:e.id,imgUrl:e.picUrl,title:e.name,desc:e.artist.name})}};class d extends i.a{constructor(...e){var t;super(...e),t=this,o(this,"setLastSearchKeyword",e=>({type:r.g,data:e})),o(this,"requestBannerList",e=>this.fetcher.get(e).then(e=>e.data.banners).then(e=>e.map(e=>({pic:e.pic,typeTitle:e.typeTitle})))),o(this,"requestSearchSuggest",e=>this.fetcher.get(e).then(e=>e.data.result)),o(this,"requestSearchBestMatch",(async function(e){const a=await t.fetcher.get(e).then(e=>e.data.result);var i;if(a&&(null===(i=a.orders)||void 0===i?void 0:i.length)){const e=a.orders[0];return l[e].selector(a[e][0])}})),o(this,"requestSearch",(async function(e,a){const i=await Promise.allSettled([t.fetcher.get(e).then(e=>e.data.result),t.fetcher.get(`/api/search?keywords=${a}&type=1004`).then(e=>e.data.result)]),n=i[0],r=i[1];var o;if("fulfilled"===n.status&&(n.value.mv=r.value,null===(o=n.value.order)||void 0===o?void 0:o.length))return[...n.value.order,"mv"].map(e=>{var t,a;const i=e.toLowerCase(),r=s[i];let o=null===(t=n.value)||void 0===t||null===(a=t[e])||void 0===a?void 0:a[e+"s"];return"song"===i&&(o=o.slice(0,5)),r&&o?{type:i,title:r.desc,getDesc:r.selector,dataList:o}:null}).filter(e=>!!e)})),o(this,"requestPersonalizedSongs",(async function(e){const[a,i]=await Object(n.a)(t.fetcher.get)(e),{result:r}=i.data;return r.map(e=>({picUrl:e.picUrl,id:e.song.id,name:e.song.name}))})),o(this,"requestPlaylist",(async function(e){const[a,i]=await Object(n.a)(t.fetcher.get)(e),{playlists:r}=i.data;return r.map(e=>({id:e.id,description:e.description,imgUrl:e.coverImgUrl,title:""+e.name,tags:e.tags,tag:e.tags[0],type:"big_playlist"}))})),o(this,"requestNewSongs",(async function(e){const[a,i]=await Object(n.a)(t.fetcher.get)(e);return i.data.data.map(e=>{const t=e.artists.length?[...e.artists].reverse().reduce((e,t)=>`${t.name} ${e}`,""):"";return{imgUrl:e.album.picUrl,title:""+e.name,desc:t,artistId:e.artists[0].id,albumId:e.album.id,artistName:t,albumName:e.album.name,type:"song",id:e.id}})})),o(this,"requestAlbums",(async function(e){const a=await t.fetcher.get(e),{albums:i}=a.data;return i.map(e=>({imgUrl:e.picUrl,title:e.name,publishTime:e.publishTime?t.moment(new Date(e.publishTime),"YYYY-MM-DD").format("YYYY-MM-DD"):null,type:"bigAlbum",id:e.id,albumId:e.id}))})),o(this,"requestPrivateMVs",(async function(e){const[a,i]=await Object(n.a)(t.fetcher.get)(e);return i.data.result.map(e=>({imgUrl:e.picUrl,title:e.name,id:e.id,type:"privateMV"}))})),o(this,"getInitialData",(async function(e){const[a,i]=await Object(n.a)((e,a,i)=>Promise.allSettled([t.requestBannerList(e),t.requestPersonalizedSongs(a),t.requestPlaylist(i)]))("/api/banner?type=2","/api/personalized/newsong","/api/top/playlist?limit=8&order=hot");if(a)return Promise.reject(a);"fulfilled"===i[0].status&&e.dispatch(t.setBannerList(i[0].value)),"fulfilled"===i[1].status&&e.dispatch(t.setPersonalizedSongs(i[1].value)),"fulfilled"===i[2].status&&e.dispatch(t.setPlayLists(i[2].value))})),o(this,"setBannerList",e=>({type:r.b,data:e})),o(this,"setPersonalizedSongs",e=>({type:r.e,data:e})),o(this,"setPlayLists",e=>({type:r.f,data:e})),o(this,"setNewSongs",e=>({type:r.d,data:e})),o(this,"setAlbums",e=>({type:r.a,data:e})),o(this,"setMVs",e=>({type:r.c,data:e}))}}t.b=new d},241:function(e,t,a){"use strict";a(11),a(149),a(34),a(13);var i=a(50),n=a(14),r=a(48);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends i.a{constructor(...e){var t;super(...e),t=this,o(this,"requestArtistDesc",e=>this.fetcher.get(e).then(e=>{var t;return null!==(t=e.data.briefDesc)&&void 0!==t?t:""})),o(this,"requestArtistInfo",(e,t)=>this.fetcher.get(e).then(e=>e.data.result).then(e=>{var a;return null===(a=e.artists)||void 0===a?void 0:a.filter(e=>e.id==t)[0]})),o(this,"requestArtistSongs",(async function(e){const a=await t.fetcher.get(e);return[[a.data.hotSongs.map(e=>({imgUrl:e.al.picUrl,title:""+e.name,desc:""+e.al.name,artistName:e.ar.length?[...e.ar].reverse().reduce((e,t)=>`${t.name} ${e}`,""):"",albumName:e.al.name,artistId:e.ar[0].id,albumId:e.al.id,type:"song",id:e.id})),a.data.artist],!1]})),o(this,"requestArtistAlbums",(async function(e){const a=await t.fetcher.get(e);return[a.data.hotAlbums.map(e=>({imgUrl:e.picUrl,title:e.name,publishTime:e.publishTime?t.moment(new Date(e.publishTime),"YYYY-MM-DD").format("YYYY-MM-DD"):null,type:"bigAlbum",albumId:e.id,id:e.id})),a.data.more]})),o(this,"requestArtistMVs",(async function(e){const a=await t.fetcher.get(e);return[a.data.mvs.map(e=>({vtype:0,imgUrl:e.imgurl,title:e.name,id:e.id,type:"bigMV"})),a.data.hasMore]})),o(this,"getInitialData",(async function(e,a){const{id:i}=a.query,[r,o]=await Object(n.a)((e,a,i,n)=>Promise.all([t.requestArtistDesc(e),t.requestArtistSongs(a),t.requestArtistAlbums(i),t.requestArtistMVs(n)]))("/api/artist/desc?id="+i,"/api/artists?id="+i,`/api/artist/album?id=${i}&offset=0&limit=4`,`/api/artist/mv?id=${i}&offset=0&limit=4`);r&&console.error(r),e.dispatch(t.setDesc(o[0])),e.dispatch(t.setSONGS(o[1])),e.dispatch(t.setAlbums(o[2])),e.dispatch(t.setMVS(o[3]))})),o(this,"setDesc",e=>({type:r.b,data:e})),o(this,"setSONGS",e=>({type:r.d,data:e})),o(this,"setMVS",e=>({type:r.c,data:e})),o(this,"setAlbums",e=>({type:r.a,data:e}))}}t.a=new l},242:function(e,t,a){"use strict";a(11),a(13);var i=a(0),n=a.n(i),r=a(1),o=a.n(r),l=a(2);const s={large:134,medium:84,small:44},d=l.d.img.withConfig({displayName:"Avatar__StyledAvatar",componentId:"z91ave-0"})(["width:","px;height:","px;max-width:","px;max-height:",'px;border-radius:50%;display:block;&[data-settled="false"]{background-color:grey;}'],e=>e.size,e=>e.size,e=>e.size,e=>e.size),c=Object(i.memo)(({size:e,url:t})=>{var a;const[r,o]=Object(i.useState)(!1),l=Object(i.useCallback)(()=>o(!0),[]),c=null!==(a=s[e])&&void 0!==a?a:84;return n.a.createElement(d,{src:t,size:c,"data-settled":r,onLoad:l})});c.propTypes={size:o.a.string,url:o.a.string},t.a=c},243:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(35),o=a(2),l=a(236);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const m=o.d.div.withConfig({displayName:"ScrollPaginationMediaItems__NoData",componentId:"sc-19vjpj2-0"})(["text-align:center;color:",";"],e=>e.theme.fg),p=Object(i.memo)(({keyPage:e,getScrollRef:t,pageFetch:a,getUrl:o,mockLoadingOption:s,setItemsCount:c})=>{const p=Object(i.useRef)(0),{pages:u,isLoadingMore:g,isReachingEnd:b,loadMore:h}=Object(r.d)(e,({offset:e,withSWR:t})=>{var i;const{data:c}=t(Object(r.b)(o(e||0),a,{revalidateOnFocus:!1}));return p.current=e,null===(null==c?void 0:c[0])?n.a.createElement(m,null,"无结果"):n.a.createElement(l.b,{list:null!==(i=null==c?void 0:c[0])&&void 0!==i?i:new Array(2).fill(d({},s))})},({data:e})=>(c&&c(null==e?void 0:e[2]),(null==e?void 0:e[1])?p.current+1:null)),f=Object(i.useCallback)(()=>{!(document.getElementById("root").scrollTop+30>t().clientHeight-window.innerHeight)||b||g||h()},[t,b,g,h]);return Object(i.useEffect)(()=>{const e=document.getElementById("root");return e.addEventListener("scroll",f),()=>e.removeEventListener("scroll",f)},[f]),n.a.createElement(n.a.Fragment,null,u)});t.a=p},244:function(e,t,a){"use strict";a.d(t,"g",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"j",(function(){return d})),a.d(t,"c",(function(){return c})),a.d(t,"n",(function(){return m})),a.d(t,"i",(function(){return p})),a.d(t,"m",(function(){return u})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return h})),a.d(t,"l",(function(){return f})),a.d(t,"f",(function(){return y})),a.d(t,"h",(function(){return x})),a.d(t,"k",(function(){return v}));var i=a(2),n=a(62),r=a(51),o=a(61);const l=i.d.div.withConfig({displayName:"styled__PageBackWrapper",componentId:"sc-1uhz9vo-0"})(["position:fixed;padding:25px 15px 15px 15px;top:0;left:0;width:100%;z-index:501;opacity:",";background-color:",";"],e=>e.opacity,e=>e.theme.mg),s=i.d.div.withConfig({displayName:"styled__AlbumDetailsPage",componentId:"sc-1uhz9vo-1"})(["min-height:100vh;padding:30px 18px 40px 18px;"]),d=i.d.div.withConfig({displayName:"styled__ScrollContainer",componentId:"sc-1uhz9vo-2"})(["position:sticky;padding-top:30px;background-color:",";z-index:5;overflow:hidden;"],e=>e.theme.mg),c=i.d.div.withConfig({displayName:"styled__AlbumPic",componentId:"sc-1uhz9vo-3"})(["margin-top:35px;position:sticky;z-index:0;top:15px;display:flex;justify-content:center;"]),m=Object(i.d)(r.a).withConfig({displayName:"styled__StyledMyImage",componentId:"sc-1uhz9vo-4"})(["&{width:180px;height:180px;border-radius:4px;}"]),p=i.d.p.withConfig({displayName:"styled__PublishTime",componentId:"sc-1uhz9vo-5"})(["font-size:16px;color:",";font-weight:bold;> ","{width:100px;}"],e=>e.theme.dg,o.a),u=i.d.div.withConfig({displayName:"styled__StyledDescModal",componentId:"sc-1uhz9vo-6"})(["position:fixed;left:0;top:0;padding:35px;font-size:16px;background:",";color:",";padding-bottom:70px;transition:opacity 0.2s;opacity:",";z-index:1000;width:100%;height:100%;.close{position:absolute;bottom:40px;color:",";text-align:center;font-size:40px;width:100%;left:0;}"],e=>e.theme.mg,e=>e.theme.fg,e=>e.isShow?"1":"0",e=>e.theme.fg),g=i.d.p.withConfig({displayName:"styled__AlbumName",componentId:"sc-1uhz9vo-7"})(["margin-top:12px;font-size:20px;color:",";font-weight:bold;> ","{width:150px;}"],e=>e.theme.fg,o.a),b=i.d.div.withConfig({displayName:"styled__Artist",componentId:"sc-1uhz9vo-8"})(["margin-top:20px;display:flex;align-items:center;"]),h=i.d.span.withConfig({displayName:"styled__ArtistName",componentId:"sc-1uhz9vo-9"})(["font-size:14px;color:",";margin-left:15px;> ","{width:120px;}"],e=>e.theme.dg,o.a),f=i.d.div.withConfig({displayName:"styled__StyledDesc",componentId:"sc-1uhz9vo-10"})(["min-height:20px;max-height:86%;overflow-y:scroll;margin-top:20px;font-size:14px;line-height:1.3;color:",";",";> ","{background:grey;}"],e=>e.theme.dg,e=>e.isWhole?"line-height:1.5; font-size: 16px":n.b,o.a),y=i.d.div.withConfig({displayName:"styled__MediaListWrapper",componentId:"sc-1uhz9vo-11"})(["margin-top:30px;"]),x=i.d.div.withConfig({displayName:"styled__PlayBarWrapper",componentId:"sc-1uhz9vo-12"})(["margin-bottom:25px;"]),v=i.d.div.withConfig({displayName:"styled__StyledCount",componentId:"sc-1uhz9vo-13"})(["display:inline-block;width:50%;color:",";.count{text-align:center;font-size:22px;font-weight:bold;}.name{margin-top:8px;text-align:center;font-size:14px;}"],({theme:e})=>e.fg)}}]);
//# sourceMappingURL=commmon-632543d085d9157b1613.js.map